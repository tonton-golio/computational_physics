<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <rect x="0" y="0" width="900" height="500" fill="#0f172a"/>
  <rect x="0" y="0" width="900" height="56" fill="#1e293b"/>
  <text x="24" y="38" fill="#e2e8f0" font-family="Arial, sans-serif" font-size="22" font-weight="bold">Which Activation Lets Gradients Survive?</text>

  <!-- 5 columns: ReLU, Leaky ReLU, Sigmoid, Tanh, Swish -->
  <!-- Each column: ~160px wide, 20px gaps -->
  <!-- Top row (y=68..248): function + derivative curves -->
  <!-- Bottom row (y=268..470): gradient-flow heatmap through 20 layers -->

  <!-- ============ COLUMN 1: ReLU ============ -->
  <g transform="translate(18,66)">
    <rect x="0" y="0" width="162" height="190" fill="#1e293b" rx="6"/>
    <text x="81" y="22" fill="#e2e8f0" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">ReLU</text>
    <text x="81" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">max(0, x)</text>
    <!-- Axes -->
    <line x1="20" y1="120" x2="148" y2="120" stroke="#334155" stroke-width="1"/>
    <line x1="81" y1="50" x2="81" y2="170" stroke="#334155" stroke-width="1"/>
    <!-- ReLU curve: flat at 0 for x<0, linear for x>0 -->
    <path d="M20,120 L81,120 L142,56" stroke="#3b82f6" stroke-width="2.5" fill="none"/>
    <!-- Derivative: 0 for x<0, 1 for x>0 -->
    <path d="M20,120 L79,120 M83,80 L142,80" stroke="#f59e0b" stroke-width="1.5" fill="none" stroke-dasharray="5 3"/>
    <!-- Legend -->
    <line x1="30" y1="180" x2="46" y2="180" stroke="#3b82f6" stroke-width="2"/>
    <text x="50" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f(x)</text>
    <line x1="80" y1="180" x2="96" y2="180" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5 3"/>
    <text x="100" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f'(x)</text>
  </g>

  <!-- ReLU gradient heatmap -->
  <g transform="translate(18,272)">
    <rect x="0" y="0" width="162" height="200" fill="#1e293b" rx="6"/>
    <text x="81" y="20" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">Gradient through 20 layers</text>
    <!-- 20 rows, each 8px tall, starting at y=30 -->
    <!-- ReLU: gradient = 1 or 0 (dead neuron risk). Show healthy (green) then sudden death -->
    <rect x="16" y="30" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="39" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="48" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="57" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="66" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="75" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="84" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="93" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="102" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="111" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="120" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="129" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="138" width="130" height="8" fill="#10b981" opacity="0.7" rx="1"/>
    <rect x="16" y="147" width="130" height="8" fill="#10b981" opacity="0.5" rx="1"/>
    <rect x="16" y="156" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="165" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="174" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="183" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <!-- Labels -->
    <text x="6" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">1</text>
    <text x="2" y="160" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">18</text>
    <text x="81" y="198" fill="#ef4444" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">dead neurons</text>
  </g>

  <!-- ============ COLUMN 2: Leaky ReLU ============ -->
  <g transform="translate(194,66)">
    <rect x="0" y="0" width="162" height="190" fill="#1e293b" rx="6"/>
    <text x="81" y="22" fill="#e2e8f0" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">Leaky ReLU</text>
    <text x="81" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">max(0.01x, x)</text>
    <line x1="20" y1="120" x2="148" y2="120" stroke="#334155" stroke-width="1"/>
    <line x1="81" y1="50" x2="81" y2="170" stroke="#334155" stroke-width="1"/>
    <!-- Leaky ReLU: slight slope for x<0 -->
    <path d="M20,121.2 L81,120 L142,56" stroke="#3b82f6" stroke-width="2.5" fill="none"/>
    <!-- Derivative: 0.01 for x<0, 1 for x>0 -->
    <path d="M20,119 L79,119 M83,80 L142,80" stroke="#f59e0b" stroke-width="1.5" fill="none" stroke-dasharray="5 3"/>
    <line x1="30" y1="180" x2="46" y2="180" stroke="#3b82f6" stroke-width="2"/>
    <text x="50" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f(x)</text>
    <line x1="80" y1="180" x2="96" y2="180" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5 3"/>
    <text x="100" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f'(x)</text>
  </g>

  <!-- Leaky ReLU gradient heatmap: all green, no dead neurons -->
  <g transform="translate(194,272)">
    <rect x="0" y="0" width="162" height="200" fill="#1e293b" rx="6"/>
    <text x="81" y="20" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">Gradient through 20 layers</text>
    <rect x="16" y="30" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="39" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="48" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="57" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="66" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="75" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="84" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="93" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="102" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="111" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="120" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="129" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="138" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="147" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="156" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="165" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="174" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="183" width="130" height="8" fill="#10b981" rx="1"/>
    <text x="6" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">1</text>
    <text x="2" y="190" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">20</text>
    <text x="81" y="198" fill="#10b981" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">all layers alive</text>
  </g>

  <!-- ============ COLUMN 3: Sigmoid ============ -->
  <g transform="translate(370,66)">
    <rect x="0" y="0" width="162" height="190" fill="#1e293b" rx="6"/>
    <text x="81" y="22" fill="#e2e8f0" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">Sigmoid</text>
    <text x="81" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">1/(1+e⁻ˣ)</text>
    <line x1="20" y1="120" x2="148" y2="120" stroke="#334155" stroke-width="1"/>
    <line x1="81" y1="50" x2="81" y2="170" stroke="#334155" stroke-width="1"/>
    <!-- Sigmoid S-curve -->
    <path d="M20,158 C35,158 50,155 60,148 C70,138 76,128 81,120 C86,112 92,102 102,92 C112,82 130,78 148,78" stroke="#3b82f6" stroke-width="2.5" fill="none"/>
    <!-- Derivative: bell curve peaking at 0.25 -->
    <path d="M20,160 C40,160 55,158 65,150 C72,142 77,130 81,120 C85,130 90,142 97,150 C107,158 120,160 148,160" stroke="#f59e0b" stroke-width="1.5" fill="none" stroke-dasharray="5 3"/>
    <line x1="30" y1="180" x2="46" y2="180" stroke="#3b82f6" stroke-width="2"/>
    <text x="50" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f(x)</text>
    <line x1="80" y1="180" x2="96" y2="180" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5 3"/>
    <text x="100" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f'(x)</text>
  </g>

  <!-- Sigmoid gradient heatmap: vanishes quickly -->
  <g transform="translate(370,272)">
    <rect x="0" y="0" width="162" height="200" fill="#1e293b" rx="6"/>
    <text x="81" y="20" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">Gradient through 20 layers</text>
    <rect x="16" y="30" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="39" width="130" height="8" fill="#10b981" opacity="0.85" rx="1"/>
    <rect x="16" y="48" width="130" height="8" fill="#10b981" opacity="0.7" rx="1"/>
    <rect x="16" y="57" width="130" height="8" fill="#f59e0b" opacity="0.9" rx="1"/>
    <rect x="16" y="66" width="130" height="8" fill="#f59e0b" opacity="0.7" rx="1"/>
    <rect x="16" y="75" width="130" height="8" fill="#f59e0b" opacity="0.5" rx="1"/>
    <rect x="16" y="84" width="130" height="8" fill="#ef4444" opacity="0.8" rx="1"/>
    <rect x="16" y="93" width="130" height="8" fill="#ef4444" opacity="0.6" rx="1"/>
    <rect x="16" y="102" width="130" height="8" fill="#ef4444" opacity="0.4" rx="1"/>
    <rect x="16" y="111" width="130" height="8" fill="#ef4444" opacity="0.2" rx="1"/>
    <rect x="16" y="120" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="129" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="138" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="147" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="156" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="165" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="174" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="183" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <text x="6" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">1</text>
    <text x="2" y="190" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">20</text>
    <text x="81" y="198" fill="#ef4444" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">vanishing gradients</text>
  </g>

  <!-- ============ COLUMN 4: Tanh ============ -->
  <g transform="translate(546,66)">
    <rect x="0" y="0" width="162" height="190" fill="#1e293b" rx="6"/>
    <text x="81" y="22" fill="#e2e8f0" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">Tanh</text>
    <text x="81" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">tanh(x)</text>
    <line x1="20" y1="120" x2="148" y2="120" stroke="#334155" stroke-width="1"/>
    <line x1="81" y1="50" x2="81" y2="170" stroke="#334155" stroke-width="1"/>
    <!-- Tanh S-curve (centered, range -1 to 1) -->
    <path d="M20,158 C35,157 50,154 60,146 C70,136 76,128 81,120 C86,112 92,104 102,94 C112,84 130,82 148,82" stroke="#3b82f6" stroke-width="2.5" fill="none"/>
    <!-- Derivative: peaks at 1.0 at center -->
    <path d="M20,160 C40,160 55,156 65,145 C72,134 77,112 81,90 C85,112 90,134 97,145 C107,156 120,160 148,160" stroke="#f59e0b" stroke-width="1.5" fill="none" stroke-dasharray="5 3"/>
    <line x1="30" y1="180" x2="46" y2="180" stroke="#3b82f6" stroke-width="2"/>
    <text x="50" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f(x)</text>
    <line x1="80" y1="180" x2="96" y2="180" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5 3"/>
    <text x="100" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f'(x)</text>
  </g>

  <!-- Tanh gradient heatmap: vanishes, but slightly better than sigmoid -->
  <g transform="translate(546,272)">
    <rect x="0" y="0" width="162" height="200" fill="#1e293b" rx="6"/>
    <text x="81" y="20" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">Gradient through 20 layers</text>
    <rect x="16" y="30" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="39" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="48" width="130" height="8" fill="#10b981" opacity="0.8" rx="1"/>
    <rect x="16" y="57" width="130" height="8" fill="#10b981" opacity="0.6" rx="1"/>
    <rect x="16" y="66" width="130" height="8" fill="#f59e0b" opacity="0.9" rx="1"/>
    <rect x="16" y="75" width="130" height="8" fill="#f59e0b" opacity="0.7" rx="1"/>
    <rect x="16" y="84" width="130" height="8" fill="#f59e0b" opacity="0.5" rx="1"/>
    <rect x="16" y="93" width="130" height="8" fill="#ef4444" opacity="0.8" rx="1"/>
    <rect x="16" y="102" width="130" height="8" fill="#ef4444" opacity="0.6" rx="1"/>
    <rect x="16" y="111" width="130" height="8" fill="#ef4444" opacity="0.4" rx="1"/>
    <rect x="16" y="120" width="130" height="8" fill="#ef4444" opacity="0.2" rx="1"/>
    <rect x="16" y="129" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="138" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="147" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="156" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="165" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="174" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <rect x="16" y="183" width="130" height="8" fill="#0f172a" rx="1" stroke="#334155" stroke-width="0.5"/>
    <text x="6" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">1</text>
    <text x="2" y="190" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">20</text>
    <text x="81" y="198" fill="#f59e0b" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">still vanishes</text>
  </g>

  <!-- ============ COLUMN 5: Swish ============ -->
  <g transform="translate(722,66)">
    <rect x="0" y="0" width="162" height="190" fill="#1e293b" rx="6"/>
    <text x="81" y="22" fill="#e2e8f0" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold">Swish</text>
    <text x="81" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">x · σ(x)</text>
    <line x1="20" y1="120" x2="148" y2="120" stroke="#334155" stroke-width="1"/>
    <line x1="81" y1="50" x2="81" y2="170" stroke="#334155" stroke-width="1"/>
    <!-- Swish: smooth, dips slightly below 0, then linear for large x -->
    <path d="M20,124 C35,125 45,126 55,126 C65,125 72,123 81,120 C95,112 110,96 125,78 C135,66 142,56 148,50" stroke="#3b82f6" stroke-width="2.5" fill="none"/>
    <!-- Derivative: smooth, bounded above by ~1.1 -->
    <path d="M20,132 C35,133 45,134 55,132 C65,128 72,120 81,110 C90,100 100,92 110,86 C125,80 140,78 148,78" stroke="#f59e0b" stroke-width="1.5" fill="none" stroke-dasharray="5 3"/>
    <line x1="30" y1="180" x2="46" y2="180" stroke="#3b82f6" stroke-width="2"/>
    <text x="50" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f(x)</text>
    <line x1="80" y1="180" x2="96" y2="180" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="5 3"/>
    <text x="100" y="184" fill="#94a3b8" font-family="Arial, sans-serif" font-size="9">f'(x)</text>
  </g>

  <!-- Swish gradient heatmap: healthy throughout -->
  <g transform="translate(722,272)">
    <rect x="0" y="0" width="162" height="200" fill="#1e293b" rx="6"/>
    <text x="81" y="20" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">Gradient through 20 layers</text>
    <rect x="16" y="30" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="39" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="48" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="57" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="66" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="75" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="84" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="93" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="102" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="111" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="120" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="129" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="138" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="147" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="156" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="165" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="174" width="130" height="8" fill="#10b981" rx="1"/>
    <rect x="16" y="183" width="130" height="8" fill="#10b981" rx="1"/>
    <text x="6" y="38" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">1</text>
    <text x="2" y="190" fill="#94a3b8" font-family="Arial, sans-serif" font-size="7">20</text>
    <text x="81" y="198" fill="#10b981" font-family="Arial, sans-serif" font-size="10" text-anchor="middle">smooth &amp; healthy</text>
  </g>

  <!-- Bottom legend bar -->
  <rect x="140" y="480" width="12" height="12" fill="#10b981" rx="2"/>
  <text x="158" y="491" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">healthy gradient</text>
  <rect x="310" y="480" width="12" height="12" fill="#f59e0b" rx="2"/>
  <text x="328" y="491" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">shrinking</text>
  <rect x="440" y="480" width="12" height="12" fill="#ef4444" rx="2"/>
  <text x="458" y="491" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">near-vanishing</text>
  <rect x="590" y="480" width="12" height="12" fill="#0f172a" rx="2" stroke="#334155" stroke-width="1"/>
  <text x="608" y="491" fill="#94a3b8" font-family="Arial, sans-serif" font-size="11">vanished (≈0)</text>
</svg>
